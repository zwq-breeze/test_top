# test_top接口文档

## 分数更新

| 路由                  | 方法 | 参数                                                                                                                                  | 说明                                             |
| --------------------- | ---- | ------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------ |
| /up_grade/ | POST  | formData  | 根据客户端号更新分数或新增客户和分数 |

请求示例: `POST: http://127.0.0.1:8000/up_grade/`

```typescript
{
    name: string; // required "客户端5"
    grade: string; // required "9999.2"
}
```

返回示例

```json

 "updata grade ok"

```


## 获取排行榜单

| 路由      | 方法 | 参数                                             | 说明                                                         |
| --------- | ---- | ------------------------------------------------ | ------------------------------------------------------------ |
| /get_top/ | GET  | name: string required; start: number;end:number; | 根据客户端号和需获取的排名起止名次，获取排行榜单，返回榜单和当前客户端号的排名信息 |

请求示例 `GET: http://127.0.0.1:8000/get_top/?name=客户端5&start=7&end=10`

```typescript
{
    name: string; // "客户端5"
    start: number; // 7
    end: number;  // 10
}
```

返回示例：

```
{
    "top": [
        {
            "name": "客户端6",
            "grade": 12453,
            "ranking": 7  // 排名
        },
        {
            "name": "客户端9",
            "grade": 2321,
            "ranking": 8
        },
        {
            "name": "客户端8",
            "grade": 1313,
            "ranking": 9
        },
        {
            "name": "客户端10",
            "grade": 123,
            "ranking": 10
        }
    ],
    "current_user_info": {
        "name": "客户端5",
        "grade": 32556,
        "ranking": 5
    }
}
```
